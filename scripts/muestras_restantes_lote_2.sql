-- Muestras P4 Corregidas - Lote directo 2
INSERT INTO public.muestras (
  muestreo_id, identificacion, tipo_muestra, fecha_programada_ensayo,
  fecha_programada_ensayo_ts, estado, plant_id, event_timezone,
  created_at, updated_at
)
SELECT 
  m.id as muestreo_id,
  datos.identificacion,
  datos.tipo_muestra,
  datos.fecha_programada_ensayo::date,
  datos.fecha_programada_ensayo_ts::timestamptz,
  datos.estado,
  datos.plant_id::uuid,
  datos.event_timezone,
  now() as created_at,
  now() as updated_at
FROM (
  VALUES
    ('4496', 'M2', 'CUBO', '2025-06-21', '2025-06-21 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4496', 'M3', 'CUBO', '2025-06-21', '2025-06-21 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4496', 'M4', 'CUBO', '2025-06-21', '2025-06-21 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4509', 'M1', 'CUBO', '2025-06-20', '2025-06-20 12:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4509', 'M2', 'CUBO', '2025-06-20', '2025-06-20 14:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4509', 'M3', 'CUBO', '2025-06-20', '2025-06-20 16:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4509', 'M4', 'CUBO', '2025-06-20', '2025-06-20 18:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4511', 'M1', 'CUBO', '2025-06-20', '2025-06-20 13:35:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4511', 'M2', 'CUBO', '2025-06-20', '2025-06-20 15:35:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4511', 'M3', 'CUBO', '2025-06-20', '2025-06-20 19:35:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4511', 'M4', 'CUBO', '2025-06-20', '2025-06-20 19:35:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4502', 'M1', 'CUBO', '2025-06-26', '2025-06-26 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4502', 'M2', 'CUBO', '2025-07-03', '2025-07-03 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4502', 'M3', 'CUBO', '2025-07-17', '2025-07-17 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4502', 'M4', 'CUBO', '2025-07-17', '2025-07-17 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4522', 'M1', 'CUBO', '2025-06-22', '2025-06-22 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4522', 'M2', 'CUBO', '2025-06-22', '2025-06-22 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4522', 'M3', 'CUBO', '2025-06-22', '2025-06-22 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4522', 'M4', 'CUBO', '2025-06-22', '2025-06-22 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4551', 'M1', 'CUBO', '2025-06-20', '2025-06-20 16:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4551', 'M2', 'CUBO', '2025-06-20', '2025-06-20 18:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4551', 'M3', 'CUBO', '2025-06-20', '2025-06-20 20:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4551', 'M4', 'CUBO', '2025-06-20', '2025-06-20 22:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4566', 'M1', 'CUBO', '2025-06-24', '2025-06-24 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4566', 'M2', 'CUBO', '2025-06-24', '2025-06-24 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4566', 'M3', 'CUBO', '2025-06-26', '2025-06-26 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4566', 'M4', 'CUBO', '2025-06-26', '2025-06-26 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4571', 'M1', 'CUBO', '2025-06-24', '2025-06-24 12:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4571', 'M2', 'CUBO', '2025-06-24', '2025-06-24 14:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4571', 'M3', 'CUBO', '2025-06-24', '2025-06-24 16:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4571', 'M4', 'CUBO', '2025-06-24', '2025-06-24 18:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4576', 'M1', 'CUBO', '2025-06-25', '2025-06-25 12:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4576', 'M2', 'CUBO', '2025-06-25', '2025-06-25 16:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4576', 'M3', 'CUBO', '2025-06-25', '2025-06-25 18:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4576', 'M4', 'CUBO', '2025-06-25', '2025-06-25 20:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4581', 'M1', 'CUBO', '2025-06-24', '2025-06-24 14:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4581', 'M2', 'CUBO', '2025-06-24', '2025-06-24 16:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4581', 'M3', 'CUBO', '2025-06-24', '2025-06-24 18:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4581', 'M4', 'CUBO', '2025-06-24', '2025-06-24 20:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4595', 'M1', 'CUBO', '2025-07-02', '2025-07-02 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4595', 'M2', 'CUBO', '2025-07-09', '2025-07-09 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4595', 'M3', 'CUBO', '2025-07-23', '2025-07-23 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4595', 'M4', 'CUBO', '2025-07-23', '2025-07-23 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4605', 'M1', 'CUBO', '2025-06-26', '2025-06-26 11:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4605', 'M2', 'CUBO', '2025-06-26', '2025-06-26 13:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4605', 'M3', 'CUBO', '2025-06-26', '2025-06-26 15:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4605', 'M4', 'CUBO', '2025-06-26', '2025-06-26 19:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4628', 'M1', 'CUBO', '2025-06-27', '2025-06-27 13:50:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4628', 'M2', 'CUBO', '2025-06-27', '2025-06-27 15:50:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4628', 'M3', 'CUBO', '2025-06-27', '2025-06-27 17:50:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4628', 'M4', 'CUBO', '2025-06-27', '2025-06-27 19:50:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4633', 'M1', 'CUBO', '2025-06-27', '2025-06-27 14:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4633', 'M2', 'CUBO', '2025-06-27', '2025-06-27 16:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4633', 'M3', 'CUBO', '2025-06-27', '2025-06-27 18:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4633', 'M4', 'CUBO', '2025-06-27', '2025-06-27 20:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4658', 'M1', 'CUBO', '2025-07-01', '2025-07-01 13:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4658', 'M2', 'CUBO', '2025-07-01', '2025-07-01 15:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4658', 'M3', 'CUBO', '2025-07-01', '2025-07-01 17:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4658', 'M4', 'CUBO', '2025-07-01', '2025-07-01 19:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4663', 'M1', 'CUBO', '2025-07-01', '2025-07-01 15:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City')
) AS datos(remision, identificacion, tipo_muestra, fecha_programada_ensayo, fecha_programada_ensayo_ts, estado, plant_id, event_timezone)
JOIN public.muestreos m ON m.manual_reference = datos.remision AND m.planta = 'P4';