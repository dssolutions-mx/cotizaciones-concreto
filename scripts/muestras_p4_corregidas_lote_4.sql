-- Muestras P4 Corregidas - Lote 4 de 4
INSERT INTO public.muestras (
  muestreo_id, identificacion, tipo_muestra, fecha_programada_ensayo,
  fecha_programada_ensayo_ts, estado, plant_id, event_timezone,
  created_at, updated_at
)
SELECT 
  m.id as muestreo_id,
  datos.identificacion,
  datos.tipo_muestra,
  datos.fecha_programada_ensayo::date,
  datos.fecha_programada_ensayo_ts::timestamptz,
  datos.estado,
  datos.plant_id::uuid,
  datos.event_timezone,
  now() as created_at,
  now() as updated_at
FROM (
  VALUES
    ('4669', 'M4', 'CUBO', '2025-07-02', '2025-07-02 14:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4669', 'M1', 'CUBO', '2025-07-02', '2025-07-02 10:45:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4669', 'M2', 'CUBO', '2025-07-02', '2025-07-02 12:45:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4669', 'M3', 'CUBO', '2025-07-02', '2025-07-02 14:45:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4669', 'M4', 'CUBO', '2025-07-02', '2025-07-02 16:45:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4683', 'M1', 'CUBO', '2025-07-03', '2025-07-03 06:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4683', 'M2', 'CUBO', '2025-07-03', '2025-07-03 08:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4683', 'M3', 'CUBO', '2025-07-03', '2025-07-03 10:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4683', 'M4', 'CUBO', '2025-07-03', '2025-07-03 12:30:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4690', 'M1', 'CUBO', '2025-07-03', '2025-07-03 11:45:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4690', 'M2', 'CUBO', '2025-07-03', '2025-07-03 13:45:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4690', 'M3', 'CUBO', '2025-07-03', '2025-07-03 15:45:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4690', 'M4', 'CUBO', '2025-07-03', '2025-07-03 17:45:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4710', 'M1', 'CUBO', '2025-07-04', '2025-07-04 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4710', 'M2', 'CUBO', '2025-07-05', '2025-07-05 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4710', 'M3', 'CUBO', '2025-07-06', '2025-07-06 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4710', 'M4', 'CUBO', '2025-07-06', '2025-07-06 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4700', 'M1', 'CUBO', '2025-07-04', '2025-07-04 11:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4700', 'M2', 'CUBO', '2025-07-04', '2025-07-04 13:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4700', 'M3', 'CUBO', '2025-07-04', '2025-07-04 15:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4700', 'M4', 'CUBO', '2025-07-04', '2025-07-04 17:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4705', 'M1', 'CUBO', '2025-07-04', '2025-07-04 13:15:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4705', 'M2', 'CUBO', '2025-07-04', '2025-07-04 15:15:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4705', 'M3', 'CUBO', '2025-07-04', '2025-07-04 17:15:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4705', 'M4', 'CUBO', '2025-07-04', '2025-07-04 19:15:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4860', 'M1', 'CUBO', '2025-07-15', '2025-07-15 17:15:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4860', 'M2', 'CUBO', '2025-07-15', '2025-07-15 17:15:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4866', 'M1', 'CUBO', '2025-07-15', '2025-07-15 09:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4866', 'M2', 'CUBO', '2025-07-15', '2025-07-15 11:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4866', 'M3', 'CUBO', '2025-07-15', '2025-07-15 13:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4866', 'M4', 'CUBO', '2025-07-15', '2025-07-15 15:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4867', 'M1', 'CUBO', '2025-07-15', '2025-07-15 10:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4867', 'M2', 'CUBO', '2025-07-15', '2025-07-15 12:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4867', 'M3', 'CUBO', '2025-07-15', '2025-07-15 14:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4867', 'M4', 'CUBO', '2025-07-15', '2025-07-15 16:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4898', 'M1', 'CUBO', '2025-07-17', '2025-07-17 13:02:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4898', 'M2', 'CUBO', '2025-07-17', '2025-07-17 15:02:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4898', 'M3', 'CUBO', '2025-07-17', '2025-07-17 17:02:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4898', 'M4', 'CUBO', '2025-07-17', '2025-07-17 19:02:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4904', 'M1', 'CUBO', '2025-07-17', '2025-07-17 14:49:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4904', 'M2', 'CUBO', '2025-07-17', '2025-07-17 16:49:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4904', 'M3', 'CUBO', '2025-07-17', '2025-07-17 18:49:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4904', 'M4', 'CUBO', '2025-07-17', '2025-07-17 20:49:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4915', 'M1', 'VIGA', '2025-07-24', '2025-07-24 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4915', 'M2', 'VIGA', '2025-07-31', '2025-07-31 08:00:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4915', 'M3', 'VIGA', '2025-08-14', '2025-08-14 08:00:00', 'PENDIENTE', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('4915', 'M4', 'VIGA', '2025-08-14', '2025-08-14 08:00:00', 'PENDIENTE', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('5412', 'M1', 'CUBO', '2025-08-10', '2025-08-10 13:10:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('5412', 'M2', 'CUBO', '2025-08-10', '2025-08-10 15:10:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('5412', 'M3', 'CUBO', '2025-08-10', '2025-08-10 17:10:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('5412', 'M4', 'CUBO', '2025-08-10', '2025-08-10 19:10:00', 'ENSAYADO', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('5428', 'M1', 'CUBO', '2025-08-18', '2025-08-18 08:00:00', 'PENDIENTE', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('5428', 'M2', 'CUBO', '2025-08-25', '2025-08-25 08:00:00', 'PENDIENTE', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('5428', 'M3', 'CUBO', '2025-09-08', '2025-09-08 08:00:00', 'PENDIENTE', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('5428', 'M4', 'CUBO', '2025-09-08', '2025-09-08 08:00:00', 'PENDIENTE', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City'),,
    ('5420', 'M1', 'VIGA', '2025-08-12', '2025-08-12 11:50:00', 'PENDIENTE', '78fba7b9-645a-4006-96e7-e6c4d5a9d10e', 'America/Mexico_City')
) AS datos(remision, identificacion, tipo_muestra, fecha_programada_ensayo, fecha_programada_ensayo_ts, estado, plant_id, event_timezone)
JOIN public.muestreos m ON m.manual_reference = datos.remision AND m.planta = 'P4';