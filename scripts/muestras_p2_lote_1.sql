-- Lote de MUESTRAS P2 con medidas

INSERT INTO public.muestras (
  muestreo_id, identificacion, tipo_muestra, fecha_programada_ensayo,
  fecha_programada_ensayo_ts, estado, plant_id, event_timezone,
  cube_side_cm, diameter_cm, beam_width_cm, beam_height_cm, beam_span_cm,
  created_at, updated_at
)
SELECT 
  m.id as muestreo_id,
  datos.identificacion,
  datos.tipo_muestra,
  datos.fecha_programada_ensayo::date,
  datos.fecha_programada_ensayo_ts::timestamptz,
  datos.estado,
  datos.plant_id::uuid,
  datos.event_timezone,
  datos.cube_side_cm::numeric,
  datos.diameter_cm::numeric,
  datos.beam_width_cm::numeric,
  datos.beam_height_cm::numeric,
  datos.beam_span_cm::numeric,
  now() as created_at,
  now() as updated_at
FROM (
  VALUES
    ('7880', 'M1', 'CUBO', '2025-07-14', '2025-07-14 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7880', 'M2', 'CUBO', '2025-07-21', '2025-07-21 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7880', 'M3', 'CUBO', '2025-08-04', '2025-08-04 08:00:00', 'PENDIENTE', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7880', 'M4', 'CUBO', '2025-08-04', '2025-08-04 08:00:00', 'PENDIENTE', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7881', 'M1', 'CUBO', '2025-07-21', '2025-07-21 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7881', 'M2', 'CUBO', '2025-08-04', '2025-08-04 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7881', 'M3', 'CUBO', '2025-08-04', '2025-08-04 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7942', 'M1', 'CUBO', '2025-07-16', '2025-07-16 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 15.0, NULL, NULL, NULL, NULL),
    ('7942', 'M2', 'CUBO', '2025-07-23', '2025-07-23 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 15.0, NULL, NULL, NULL, NULL),
    ('7942', 'M3', 'CUBO', '2025-08-06', '2025-08-06 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7942', 'M4', 'CUBO', '2025-08-06', '2025-08-06 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7958', 'M1', 'CUBO', '2025-07-16', '2025-07-16 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7958', 'M2', 'CUBO', '2025-07-23', '2025-07-23 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7958', 'M3', 'CUBO', '2025-08-06', '2025-08-06 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7958', 'M4', 'CUBO', '2025-08-06', '2025-08-06 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7969', 'M1', 'CUBO', '2025-07-13', '2025-07-13 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7969', 'M2', 'CUBO', '2025-07-13', '2025-07-13 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7979', 'M1', 'CUBO', '2025-07-13', '2025-07-13 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('7979', 'M2', 'CUBO', '2025-07-13', '2025-07-13 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8005', 'M1', 'CUBO', '2025-07-18', '2025-07-18 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 15.0, NULL, NULL, NULL, NULL),
    ('8005', 'M2', 'CUBO', '2025-07-25', '2025-07-25 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 15.0, NULL, NULL, NULL, NULL),
    ('8005', 'M3', 'CUBO', '2025-08-08', '2025-08-08 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8005', 'M4', 'CUBO', '2025-08-08', '2025-08-08 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8010', 'M1', 'CUBO', '2025-07-12', '2025-07-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8010', 'M2', 'CUBO', '2025-07-12', '2025-07-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8010', 'M3', 'CUBO', '2025-07-14', '2025-07-14 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8010', 'M4', 'CUBO', '2025-07-14', '2025-07-14 08:00:00', 'PENDIENTE', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8013', 'M1', 'CUBO', '2025-07-12', '2025-07-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8013', 'M2', 'CUBO', '2025-07-12', '2025-07-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 15.0, NULL, NULL, NULL, NULL),
    ('8013', 'M3', 'CUBO', '2025-07-14', '2025-07-14 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8013', 'M4', 'CUBO', '2025-07-14', '2025-07-14 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 15.0, NULL, NULL, NULL, NULL),
    ('8036', 'M1', 'CUBO', '2025-08-10', '2025-08-10 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8036', 'M2', 'CUBO', '2025-08-10', '2025-08-10 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8094', 'M1', 'CUBO', '2025-08-12', '2025-08-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 15.0, NULL, NULL, NULL, NULL),
    ('8094', 'M2', 'CUBO', '2025-08-12', '2025-08-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 15.0, NULL, NULL, NULL, NULL),
    ('8103', 'M1', 'CUBO', '2025-08-12', '2025-08-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8103', 'M2', 'CUBO', '2025-08-12', '2025-08-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8115', 'M1', 'CUBO', '2025-08-12', '2025-08-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL),
    ('8115', 'M2', 'CUBO', '2025-08-12', '2025-08-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 15.0, NULL, NULL, NULL, NULL),
    ('8124', 'M1', 'CUBO', '2025-08-12', '2025-08-12 08:00:00', 'ENSAYADO', '836cbbcf-67b2-4534-97cc-b83e71722ff7', 'America/Mexico_City', 10.0, NULL, NULL, NULL, NULL)
) AS datos(remision, identificacion, tipo_muestra, fecha_programada_ensayo, fecha_programada_ensayo_ts, estado, plant_id, event_timezone, cube_side_cm, diameter_cm, beam_width_cm, beam_height_cm, beam_span_cm)
JOIN public.muestreos m ON m.manual_reference = datos.remision AND m.planta = 'P2';
